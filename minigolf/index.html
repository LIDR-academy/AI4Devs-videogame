<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>MiniGolf - AI4Devs</title>
    <style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        canvas {
            border: 2px solid #333;
            background-color: #90EE90;
            margin: 20px;
        }
        #game-container {
            position: relative;
        }
        #score {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 24px;
            color: #333;
        }
        h1 {
            color: #333;
            margin-top: 20px;
        }
        .controls {
            margin-top: 20px;
            padding: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            text-align: center;
        }
    </style>
    <!-- Load the Kotlin/JS game scripts, trying multiple possible locations -->
    <script>
        // Try to load the JS file from different possible locations
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = () => reject(new Error(`Failed to load script: ${src}`));
                document.head.appendChild(script);
            });
        }

        // List of possible script locations
        const scriptPaths = [
            'kotlin/minigolf.js',
            'build/distributions/minigolf.js',
            'build/js/packages/minigolf/kotlin/minigolf.js',
            '../minigolf/build/js/packages/minigolf/kotlin/minigolf.js'
        ];

        // Try loading scripts in sequence until one succeeds
        window.onload = async function() {
            let loaded = false;
            
            for (const path of scriptPaths) {
                try {
                    console.log(`Trying to load script from: ${path}`);
                    await loadScript(path);
                    console.log(`Successfully loaded script from: ${path}`);
                    loaded = true;
                    break;
                } catch (error) {
                    console.error(`Failed to load from ${path}:`, error);
                }
            }
            
            if (!loaded) {
                console.error('Failed to load the game script from any location');
                document.getElementById('gameCanvas').insertAdjacentHTML('afterend', 
                    '<div style="color: red; padding: 20px;">Failed to load the game script. Please check the console for details.</div>');
            }
        };
    </script>
</head>
<body>
    <h1>MiniGolf</h1>
    <div id="game-container">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        <div id="score">Strokes: 0</div>
    </div>
    <div class="controls">
        <p>Click and drag from the ball to aim, release to shoot!</p>
        <p><a href="../index.html">Back to Game Index</a></p>
    </div>
</body>
</html>
